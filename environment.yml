name: legal-scraper
channels:
  - conda-forge
  - defaults
dependencies:
  - python=3.11
  - pytest
  - pytest-asyncio
  - pytest-cov
  - pip
  # Core scraping dependencies
  - aiohttp          # Async HTTP client
  - beautifulsoup4   # HTML Parser
  - lxml             # Faster parser engine
  # GUI: Desktop (optional for headless)
  - tk               # Tkinter for local GUI support
  # Web GUI dependencies
  - fastapi          # Web framework for REST API
  - uvicorn          # ASGI server for FastAPI
  - jinja2           # Template engine for HTML pages
  - httpx            # Async ASGI test client
  # Terminal TUI dependencies
  - textual          # Modern terminal UI framework
  - rich             # Rich text and formatting for terminal
  - pip:
      - pyjwt
      - reflex>=0.8.25,<0.9
      # PDF Processing
      - pdfplumber       # Primary PDF text extraction
      - pypdf            # Fallback PDF processing
      - pymupdf          # Fast PDF extraction (BJV)
      # Embeddings & Vector Search
      - faiss-cpu        # Vector similarity search
      - sentence-transformers  # Text embedding models
      - tiktoken         # Token counting for chunking
      # Browser Automation
      - playwright       # Headless browser for dynamic sites (CAS)
      - crawl4ai         # LLM-powered web scraping for BJV
      # Retry & Resilience
      - tenacity         # Retry logic with backoff
      # LLM Scraping (OpenRouter)
      - instructor>=1.0.0    # Structured LLM extraction with Pydantic
      - openai>=1.0.0        # OpenRouter compatibility layer
      # Temporal Integration (document embedding workflows)
      - temporalio>=1.7.0    # Temporal workflow SDK
